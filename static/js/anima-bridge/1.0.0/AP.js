define("anima-bridge/1.0.0/AP",[],function(e,t,o){function a(e){return"string"===n(e)}function r(e){return"number"===n(e)}function n(e){return Object.prototype.toString.call(e).replace(/\[object (\w+)\]/,"$1").toLowerCase()}function i(e,t){for(var o in t)e[o]=t[o];return e}function l(e,t){e.errorCode&&console.error(t+" \u53d1\u751f\u5f02\u5e38: errorCode: "+e.errorCode+", errorMessage: "+e.errorMessage)}function c(e){for(var t,o,a=s.alipayVersion.split("."),e=e.split("."),r=0;r<a.length;r++){if(t=parseInt(e[r],10)||0,o=parseInt(a[r],10)||0,o>t)return 1;if(t>o)return-1}return 0}var s={};s.ua=navigator.userAgent,s.isAlipay=s.ua.indexOf("AlipayClient")>-1,s.alipayVersion=function(){return s.isAlipay?s.ua.match(/AlipayClient\/(.*)/)[1]:void 0}(),s.appinfo={engine:"alipay",engineVer:s.alipayVersion,name:"alipay",ver:s.alipayVersion},s.call=function(){var e=[].slice.call(arguments);if("function"==typeof e[e.length-1]){var t=e[e.length-1];e[e.length-1]=function(o){var o=o?o:{};o.errorCode=o.error?+o.error:0,o.errorMessage=0==o.errorCode?"\u8c03\u7528\u6210\u529f":o.errorMessage,l(o,e[0]),t(o)}}var o=function(){window.AlipayJSBridge.call.apply(null,e)};window.AlipayJSBridge?o():s.on("AlipayJSBridgeReady",o)},s.ready=function(e){s.on("AlipayJSBridgeReady",e)},s.toast=function(e,t){var o={text:""};a(e)&&(e={text:e}),i(o,e),o.content=o.text,s.call("toast",o,t)},s.setTitle=function(e,t){var o={type:"title"};a(e)&&(e={text:e}),i(o,e),null==o.text?console.error("setTitle: text \u53c2\u6570\u5fc5\u586b\uff01"):o.title=o.text,s.call("setTitle",o),t&&t()},s.showTitle=function(e){s.call("showTitlebar"),e({})},s.hideTitle=function(e){s.call("hideTitlebar"),e({})},s.showLoading=function(e,t){var o={};a(e)&&(e={text:e}),i(o,e),s.call("showLoading",e),t&&t({})},s.hideLoading=function(e){s.call("hideLoading"),e&&e({})},s.pushWindow=function(e,t){var o={url:""};a(e)&&(e={url:e}),i(o,e),o.param&&c("8.3")<0&&/android/i.test(s.ua)&&console.warn("Ali.pushWindow: android \u7248 param \u53c2\u6570\u8bf7\u5728 8.3 \u53ca\u4ee5\u4e0a\u7248\u672c\u4f7f\u7528");var r=document.createElement("a");r.href=o.url,o.url=r.href,s.call("pushWindow",o),t&&t({})},s.popWindow=function(e){s.popTo({step:-1}),e&&e({})},s.popTo=function(e,t){var o={};r(e)&&(e={step:e}),i(o,e),o.index=o.step,s.call("popTo",o,t)},s.login=function(e){s.call("login",e)},s.tradePay=function(e,t){s.call("tradePay",e,t)},s.h5TradePay=function(e,t){console.error("\u652f\u4ed8\u5b9d\u4e0d\u652f\u6301 Ali.h5TradePay\uff0c\u652f\u4ed8\u5b9d\u8bf7\u4f7f\u7528 Ali.tradePay"),t({errorCode:1,errorMessage:"\u63a5\u53e3\u4e0d\u5b58\u5728"})},s.geolocation={},s.geolocation.getCurrentPosition=function(e,t){if(1==arguments.length)var t=e,e={timeout:15e3};var o=setTimeout(function(){o=null,console.error("geolocation.getCurrentPosition: timeout");var e={errorCode:5,errorMessage:"\u8c03\u7528\u8d85\u65f6"};t(e)},e.timeout);s.call("getLocation",function(e){o&&(clearTimeout(o),e.coords={},e.coords.latitude=+e.latitude,e.coords.longitude=+e.longitude,e.city=e.city?e.city:e.province,e.province=e.province,e.cityCode=e.citycode,e.address=e.pois,t(e))})},s.shake={},s.shake.watch=function(e,t){s.call("watchShake",e,t)},s.vibration={},s.vibration.vibrate=function(e,t){var o={};r(e)&&(e={duration:e}),i(o,e),s.call("vibrate",o),t({})},s.network={},s.network.getType=function(e,t){if(1==arguments.length)var t=e,e={timeout:15e3};var o=setTimeout(function(){o=null,console.error("network.getType: timeout");var e={errorCode:5,errorMessage:"\u8c03\u7528\u8d85\u65f6"};t(e)},e.timeout);s.call("getNetworkType",function(e){o&&(clearTimeout(o),e.networkAvailable="fail"!==e.networkType,e.is3G=e.is2G=e.isE=e.isG=e.isH=!1,e.isWifi="wifi"===e.networkType,e.isOnline=e.networkAvailable,e.type=e.networkType,t(e,e.networkAvailable))})},s.calendar={},s.calendar.add=function(e,t){c("8.3")<0?(console.error("Ali.calendar.add: \u5728 8.3 \u53ca\u4ee5\u4e0a\u7248\u672c\u4f7f\u7528"),t({errorCode:1,errorMessage:"\u63a5\u53e3\u4e0d\u5b58\u5728"})):s.call("addEventCal",e,t)},s.photo=function(e,t){var o={format:"jpg",dataType:"dataurl",quality:50,allowEdit:!1,src:void 0,cameraType:void 0,maskImg:void 0,maskWidth:void 0,maskHeight:void 0};i(o,e),o.imageFormat=o.format,"remoteurl"==o.dataType&&(o.dataType="dataurl"),o.dataType=o.dataType.slice(0,-3)+o.dataType.slice(-3).toUpperCase(),s.call("photo",o,function(e){e.dataURL&&(e.dataURL="data:image/"+o.imageFormat+";base64,"+e.dataURL),e.photo=e.dataURL||e.fileURL,e.errorMessage=10==e.error?"\u7528\u6237\u53d6\u6d88":e.errorMessage,t(e)})},s.contacts={},s.contacts.get=function(e,t){if(1==arguments.length)var t=e,e={multiple:!1};s.call("contact",function(e){switch(e.results=[],e.results[0]={phoneNumber:e.mobile,email:void 0,name:e.name},e.errorCode){case 10:e.errorMessage="\u6ca1\u6709\u6743\u9650";break;case 11:e.errorMessage="\u7528\u6237\u53d6\u6d88\u64cd\u4f5c"}t(e)})},["startApp","showOptionMenu","hideOptionMenu","setOptionMenu","showToolbar","hideToolbar","closeWebview","sendSMS","scan","getSessionData","setSessionData","showAlert","alert","confirm","checkJSAPI","checkApp","isInstalledApp","share","openInBrowser","deposit","remoteLogging","alipayContact","getConfig","getCities","rsa","getWifiList","connectWifi","notifyWifiShared","thirdPartyAuth","getThirdPartyAuthcode","setToolbarMenu","exitApp","actionSheet","hideBackButton","getJSCoreVar","JSCoreMethod","startPackage","getSharedData","setSharedData","removeSharedData","setClipboard","startDownload","stopDownload","getDownloadInfo","detectBeacons","startBeaconsBeep","stopBeaconsBeep","startIndoorLocation","stopIndoorLocation","addEventCal","startSpeech","stopSpeech","rpc","getWifiInfo","clearAllCookie","getMtopToken","getClientInfo","sinasso","getClipboard","checkBLEAvalability","scanBeacons","isSpeechAvailable","speechRecognizer","contactSync"].forEach(function(e){s[e]=function(){var t=[].slice.call(arguments);s.call.apply(null,[e].concat(t))}}),s.on=function(e,t){e.split(/\s+/g).forEach(function(e){document.addEventListener(e,t,!1)})},o.exports=s});