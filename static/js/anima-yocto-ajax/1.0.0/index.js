define("anima-yocto-ajax/1.0.0/index",["anima-yocto-core/1.0.0/index"],function(t){t("anima-yocto-ajax/1.0.0/src/ajax")}),define("anima-yocto-ajax/1.0.0/src/ajax",["anima-yocto-core/1.0.0/index"],function(t,e,a){function n(t,e,a){var n=h.Event(e);return h(t).trigger(n,a),!n.isDefaultPrevented()}function r(t,e,a,r){return t.global?n(e||w,a,r):void 0}function o(t){t.global&&0===h.active++&&r(t,null,"ajaxStart")}function i(t){t.global&&!--h.active&&r(t,null,"ajaxStop")}function c(t,e){var a=e.context;return e.beforeSend.call(a,t,e)===!1||r(e,a,"ajaxBeforeSend",[t,e])===!1?!1:void r(e,a,"ajaxSend",[t,e])}function s(t,e,a,n){var o=a.context,i="success";a.success.call(o,t,i,e),n&&n.resolveWith(o,[t,i,e]),r(a,o,"ajaxSuccess",[e,a,t]),l(i,e,a)}function u(t,e,a,n,o){var i=n.context;n.error.call(i,a,e,t),o&&o.rejectWith(i,[a,e,t]),r(n,i,"ajaxError",[a,n,t||e]),l(e,a,n)}function l(t,e,a){var n=a.context;a.complete.call(n,e,t),r(a,n,"ajaxComplete",[e,a]),i(a)}function p(){}function d(t){return t&&(t=t.split(";",2)[0]),t&&(t==R?"html":t==D?"json":T.test(t)?"script":S.test(t)&&"xml")||"text"}function f(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function x(t){t.processData&&t.data&&"string"!=h.type(t.data)&&(t.data=h.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=f(t.url,t.data),t.data=void 0)}function m(t,e,a,n){return h.isFunction(e)&&(n=a,a=e,e=void 0),h.isFunction(a)||(n=a,a=void 0),{url:t,data:e,success:a,dataType:n}}function j(t,e,a,n){var r,o=h.isArray(e),i=h.isPlainObject(e);h.each(e,function(e,c){r=h.type(c),n&&(e=a?n:n+"["+(i||"object"==r||"array"==r?e:"")+"]"),!n&&o?t.add(c.name,c.value):"array"==r||!a&&"object"==r?j(t,c,a,e):t.add(e,c)})}var v,y,h=t("anima-yocto-core/1.0.0/index"),g=0,w=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,T=/^(?:text|application)\/javascript/i,S=/^(?:text|application)\/xml/i,D="application/json",R="text/html",C=/^\s*$/;h.active=0,h.ajaxJSONP=function(t,e){if(!("type"in t))return h.ajax(t);var a,n,r=t.jsonpCallback,o=(h.isFunction(r)?r():r)||"jsonp"+ ++g,i=w.createElement("script"),l=window[o],p=function(t){h(i).triggerHandler("error",t||"abort")},d={abort:p};return e&&e.promise(d),h(i).on("load error",function(r,c){clearTimeout(n),h(i).off().remove(),"error"!=r.type&&a?s(a[0],d,t,e):u(null,c||"error",d,t,e),window[o]=l,a&&h.isFunction(l)&&l(a[0]),l=a=void 0}),c(d,t)===!1?(p("abort"),d):(window[o]=function(){a=arguments},i.src=t.url.replace(/\?(.+)=\?/,"?$1="+o),w.head.appendChild(i),t.timeout>0&&(n=setTimeout(function(){p("timeout")},t.timeout)),d)},h.ajaxSettings={type:"GET",beforeSend:p,success:p,error:p,complete:p,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:D,xml:"application/xml, text/xml",html:R,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},h.ajax=function(t){var e=h.extend({},t||{}),a=h.Deferred&&h.Deferred();for(v in h.ajaxSettings)void 0===e[v]&&(e[v]=h.ajaxSettings[v]);o(e),e.crossDomain||(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!=window.location.host),e.url||(e.url=window.location.toString()),x(e),e.cache===!1&&(e.url=f(e.url,"_="+Date.now()));var n=e.dataType,r=/\?.+=\?/.test(e.url);if("jsonp"==n||r)return r||(e.url=f(e.url,e.jsonp?e.jsonp+"=?":e.jsonp===!1?"":"callback=?")),h.ajaxJSONP(e,a);var i,l=e.accepts[n],m={},j=function(t,e){m[t.toLowerCase()]=[t,e]},g=/^([\w-]+:)\/\//.test(e.url)?RegExp.$1:window.location.protocol,w=e.xhr(),b=w.setRequestHeader;if(a&&a.promise(w),e.crossDomain||j("X-Requested-With","XMLHttpRequest"),j("Accept",l||"*/*"),l&&(l.indexOf(",")>-1&&(l=l.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(l)),(e.contentType||e.contentType!==!1&&e.data&&"GET"!=e.type.toUpperCase())&&j("Content-Type",e.contentType||"application/x-www-form-urlencoded"),e.headers)for(y in e.headers)j(y,e.headers[y]);if(w.setRequestHeader=j,w.onreadystatechange=function(){if(4==w.readyState){w.onreadystatechange=p,clearTimeout(i);var t,r=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==g){n=n||d(w.getResponseHeader("content-type")),t=w.responseText;try{"script"==n?(1,eval)(t):"xml"==n?t=w.responseXML:"json"==n&&(t=C.test(t)?null:h.parseJSON(t))}catch(o){r=o}r?u(r,"parsererror",w,e,a):s(t,w,e,a)}else u(w.statusText||null,w.status?"error":"abort",w,e,a)}},c(w,e)===!1)return w.abort(),u(null,"abort",w,e,a),w;var T="async"in e?e.async:!0;w.open(e.type,e.url,T);for(y in m)b.apply(w,m[y]);return e.timeout>0&&(i=setTimeout(function(){w.onreadystatechange=p,w.abort(),u(null,"timeout",w,e,a)},e.timeout)),w.send(e.data?e.data:null),w},h.get=function(){return h.ajax(m.apply(null,arguments))},h.post=function(){var t=m.apply(null,arguments);return t.type="POST",h.ajax(t)},h.getJSON=function(){var t=m.apply(null,arguments);return t.dataType="json",h.ajax(t)},h.fn.load=function(t,e,a){if(!this.length)return this;var n,r=this,o=t.split(/\s/),i=m(t,e,a),c=i.success;return o.length>1&&(i.url=o[0],n=o[1]),i.success=function(t){r.html(n?h("<div>").html(t.replace(b,"")).find(n):t),c&&c.apply(r,arguments)},h.ajax(i),this};var E=encodeURIComponent;h.param=function(t,e){var a=[];return a.add=function(t,e){this.push(E(t)+"="+E(e))},j(a,t,e),a.join("&").replace(/%20/g,"+")},a.exports=h});