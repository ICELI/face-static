define("anima-yocto-touch/1.0.1/index",["anima-yocto-core/1.1.0/index","anima-yocto-event/1.0.1/index"],function(t){t("anima-yocto-touch/1.0.1/src/touch")}),define("anima-yocto-touch/1.0.1/src/touch",["anima-yocto-core/1.1.0/index","anima-yocto-event/1.0.1/index"],function(t,e,n){var a=Yocto=t("anima-yocto-core/1.1.0/index"),o={init:function(t){var e=this[t];Object.keys(e.handler).forEach(function(t){document.addEventListener(t,e.handler[t],!1)}),e.events.forEach(function(t){a.fn[t]=function(e){return this.on(t,e)}})}};t("anima-yocto-event/1.0.1/index");var c=navigator.userAgent.toLowerCase().indexOf("android")>0,i=/ip(ad|hone|od)/.test(navigator.userAgent.toLowerCase()),r={trackingClick:!1,trackingClickStart:0,targetElement:null,touchStartX:0,touchStartY:0,lastTouchIdentifier:0,touchBoundary:10,tapDelay:200,sendClick:function(t,e){var n=a.Event("tap",{animaTap:!0});a(t).trigger(n);var o,c;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),c=e.changedTouches[0],o=document.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),o.animaClick=!0,t.dispatchEvent(o)},needClick:function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return!1},focus:function(t){var e;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},needFocus:function(t){switch(t.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return!1}},updateScrollParent:function(t){var e,n;if(e=t.yoctoTouchScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.yoctoTouchScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.yoctoTouchLastScrollTop=e.scrollTop)},findControl:function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},touchHasMoved:function(t){var e=t.changedTouches[0],n=r.touchBoundary;return Math.abs(e.pageX-r.touchStartX)>n||Math.abs(e.pageY-r.touchStartY)>n?!0:!1}};if(o.tap={events:["tap"],handler:{touchstart:function(t){var e,n,a;if(t.targetTouches.length>1)return!0;if(e=t.target,n=t.targetTouches[0],i){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(n.identifier&&n.identifier===r.lastTouchIdentifier)return t.preventDefault(),!1;r.lastTouchIdentifier=n.identifier,r.updateScrollParent(e)}return r.trackingClick=!0,r.trackingClickStart=t.timeStamp,r.targetElement=e,r.touchStartX=n.pageX,r.touchStartY=n.pageY,t.timeStamp-r.lastClickTime<r.tapDelay&&t.preventDefault(),!0},touchmove:function(t){return r.trackingClick?((r.targetElement!==t.target||r.touchHasMoved(t))&&(r.trackingClick=!1,r.targetElement=null),!0):!0},touchend:function(t){var e,n,a,o,l=r.targetElement;if(!r.trackingClick)return!0;if(t.timeStamp-r.lastClickTime<r.tapDelay)return r.cancelNextClick=!0,!0;if(r.cancelNextClick=!1,r.lastClickTime=t.timeStamp,n=r.trackingClickStart,r.trackingClick=!1,r.trackingClickStart=0,a=l.tagName.toLowerCase(),"label"===a){if(e=r.findControl(l)){if(r.focus(l),c)return!1;l=e}}else if(r.needFocus(l))return t.timeStamp-n>100||i&&window.top!==window&&"input"===a?(r.targetElement=null,!1):(r.focus(l),t.preventDefault(),r.sendClick(l,t),!1);return i&&(o=l.yoctoTouchScrollParent,o&&o.yoctoTouchLastScrollTop!==o.scrollTop)?!0:(r.needClick(l)||(t.preventDefault(),r.sendClick(l,t)),!1)},touchcancel:function(){r.trackingClick=!1,r.targetElement=null}}},o.init("tap"),c){var l=/\bandroid[ \/-]?([0-9.x]+)?/.exec(navigator.userAgent.toLowerCase());parseFloat(l[1])<4.4&&document.addEventListener("click",function(t){return t.animaClick?void 0:(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1)},!0)}a.gestures=o,n.exports=a});